function w(a,b){return h[a]=b}q.prototype.i=w(1,async function(a){this.g=a;[a]=await this.h;a.u.postMessage(!this.g,void 0)});q.prototype.l=w(0,function(){return this.g});let x=!1;function y(a){return"undefined"===typeof a};function A(a,b){a.m.push(b);return a}function B(a,b){return A(a,()=>b)}function C(a){a.m.push(0);return a}function D(a){var b=a.m.shift();switch(typeof b){case "undefined":a.o&&a.o.call(null,a.g);break;case "function":a.g=b(a.g);D(a);break;case "number":switch(b){case 0:a.j.get(a.g,a.h);break;case 1:b=Object.keys(a.g);if(!b.every(e=>y(a.g[e]))){a.j.set(a.g,a.h);break}a.g=b;case 2:a.j.remove(a.g,a.h)}}}function E(a,b){a.o=b;a.s=void 0;D(a)}
var F=class{constructor(a){this.j=a;this.m=[];this.h=this.h.bind(this)}h(a){var b;(b=chrome.runtime.lastError)?((this.s||console.error)(b),b=!0):b=!1;b||(this.g=a,D(this))}};var G=class{constructor(a,b){this.g=b;this.h=chrome.storage[a]}j(a){return this.g+a}};function H(a){a=a.split(".");let b=a.length;a[b-1]||(a.length=b-1);return a};function I(a,b){b=H(b);let e=[""],d=b.length-1;if(0<=d){let c=b[d];for(e.unshift(c);d--;)c=b[d]+"."+c,e.unshift(c)}return e.map(a.j,a)}function J(a,b,e){let d=I(a,b);E(C(B(new F(a.h),d)),c=>{a:{for(let f of d){let g=c[f];if(!y(g)){c=g;break a}}c=void 0}y(c)||e.i(c)})}
function K(a,b,e){chrome.storage.onChanged.addListener((d,c)=>{if("sync"===c)for(let f in d){d=f.startsWith(a.g)?f.substring(a.g.length):void 0;if(c=!y(d))a:{c=b;d=H(d);c=H(c);let g=d.length,z=c.length;if(g>z)c=!1;else{for(let l=0;l<g;l++)if(d[g-l]!==c[z-l]){c=!1;break a}c=!0}}if(c){J(a,b,e);break}}})}var L=class extends G{};function M(a,b){const e=location.hostname;0!==e.length&&(J(a,e,b),K(a,e,b))};(function(a,b){const e=new L("sync","CSS.");M(new L("sync","JS2."),a);M(e,b);chrome.runtime.onMessage.addListener((d,c,f)=>{switch(d){case 4:f(a.l());break;case 5:f(b.l());break;case 0:a.i(!0);break;case 1:a.i(!1);break;case 2:b.i(!0);break;case 3:b.i(!1)}})})(t,{l(){return x},i(a){x!=a&&(x=a,chrome.runtime.sendMessage({type:a?0:1}))}});
// Copyright 2021-2022, Sean Lee <i73hi64d0wr5df8pckig@gmail.com>. All rights reserved.